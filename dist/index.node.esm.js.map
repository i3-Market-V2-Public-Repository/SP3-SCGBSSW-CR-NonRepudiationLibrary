{"version":3,"file":"index.node.esm.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * My module description. Please update with your module data.\n * @module my-package-name\n */\n\nimport CompactSign from 'jose/jws/compact/sign'\nimport parseJwk from 'jose/jwk/parse'\n\n/**\n * Returns the input string\n *\n * @param {string} a\n *\n * @returns {string} a gratifying echo response from either node or browser\n */\nexport function echo (a: string): string {\n  /* Every if else block with isBrowser (different code for node and browser) should disable eslint rule no-lone-blocks\n  */\n  /* eslint-disable no-lone-blocks */\n  if (IS_BROWSER) {\n    console.log('Browser echoes: ' + a)\n  } else {\n    console.log('Node.js echoes: ' + a)\n  }\n  /* eslint-enable no-lone-blocks */\n  return a\n}\n\nexport async function sign (a: string): Promise<string> {\n  const encoder = new TextEncoder()\n  const privateKey = await parseJwk({\n    alg: 'ES256',\n    crv: 'P-256',\n    kty: 'EC',\n    d: 'VhsfgSRKcvHCGpLyygMbO_YpXc7bVKwi12KQTE4yOR4',\n    x: 'ySK38C1jBdLwDsNWKzzBHqKYEE5Cgv-qjWvorUXk9fw',\n    y: '_LeQBw07cf5t57Iavn4j-BqJsAD1dpoz8gokd3sBsOo'\n  })\n\n  const jws = await new CompactSign(encoder.encode(JSON.stringify({ msg: 'Itâ€™s a dangerous business, Frodo, going out your door.' })))\n    .setProtectedHeader({ alg: 'ES256' })\n    .sign(privateKey)\n\n  console.log(jws)\n  return jws\n}\n"],"names":[],"mappings":";;;AAAA;;;;AAQA;;;;;;;SAOgB,IAAI,CAAE,CAAS;;;;IAMtB;QACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAA;KACpC;;IAED,OAAO,CAAC,CAAA;AACV,CAAC;AAEM,eAAe,IAAI,CAAE,CAAS;IACnC,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAA;IACjC,MAAM,UAAU,GAAG,MAAM,QAAQ,CAAC;QAChC,GAAG,EAAE,OAAO;QACZ,GAAG,EAAE,OAAO;QACZ,GAAG,EAAE,IAAI;QACT,CAAC,EAAE,6CAA6C;QAChD,CAAC,EAAE,6CAA6C;QAChD,CAAC,EAAE,6CAA6C;KACjD,CAAC,CAAA;IAEF,MAAM,GAAG,GAAG,MAAM,IAAI,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,wDAAwD,EAAE,CAAC,CAAC,CAAC;SACjI,kBAAkB,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;SACpC,IAAI,CAAC,UAAU,CAAC,CAAA;IAEnB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;IAChB,OAAO,GAAG,CAAA;AACZ;;;;"}