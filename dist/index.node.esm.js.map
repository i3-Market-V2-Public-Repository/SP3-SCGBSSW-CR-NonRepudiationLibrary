{"version":3,"file":"index.node.esm.js","sources":["../src/echo.ts","../src/sign.ts"],"sourcesContent":["/**\n * Returns the input string\n *\n * @remarks An example echo function that runs differently in Node and Browser javascript\n *\n * @param a - the text to echo\n *\n * @returns a gratifying echo response from either node or browser\n */\nexport function echo (a: string): string {\n  /* Every if else block with isBrowser (different code for node and browser)\n     should disable eslint rule no-lone-blocks */\n  /* eslint-disable no-lone-blocks */\n  if (IS_BROWSER) {\n    console.log('Browser echoes: ' + a)\n  } else {\n    console.log('Node.js echoes: ' + a)\n  }\n  /* eslint-enable no-lone-blocks */\n  return a\n}\n","import CompactSign from 'jose/jws/compact/sign'\nimport parseJwk from 'jose/jwk/parse'\n\n/**\n * Signs input and returns compact JWS\n *\n * @param a - the input to sign\n *\n * @returns a promise that resolves to a compact JWS\n *\n */\nexport async function sign (a: ArrayBufferLike | string): Promise<string> {\n  const privateKey = await parseJwk({\n    alg: 'ES256',\n    crv: 'P-256',\n    kty: 'EC',\n    d: 'VhsfgSRKcvHCGpLyygMbO_YpXc7bVKwi12KQTE4yOR4',\n    x: 'ySK38C1jBdLwDsNWKzzBHqKYEE5Cgv-qjWvorUXk9fw',\n    y: '_LeQBw07cf5t57Iavn4j-BqJsAD1dpoz8gokd3sBsOo'\n  })\n  const input = (typeof a === 'string') ? (new TextEncoder()).encode(a) : new Uint8Array(a)\n\n  const jws = await new CompactSign(input)\n    .setProtectedHeader({ alg: 'ES256' })\n    .sign(privateKey)\n\n  console.log(jws)\n  return jws\n}\n"],"names":[],"mappings":";;;AAAA;;;;;;;;;SASgB,IAAI,CAAE,CAAS;;;;IAMtB;QACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAA;KACpC;;IAED,OAAO,CAAC,CAAA;AACV;;ACjBA;;;;;;;;AAQO,eAAe,IAAI,CAAE,CAA2B;IACrD,MAAM,UAAU,GAAG,MAAM,QAAQ,CAAC;QAChC,GAAG,EAAE,OAAO;QACZ,GAAG,EAAE,OAAO;QACZ,GAAG,EAAE,IAAI;QACT,CAAC,EAAE,6CAA6C;QAChD,CAAC,EAAE,6CAA6C;QAChD,CAAC,EAAE,6CAA6C;KACjD,CAAC,CAAA;IACF,MAAM,KAAK,GAAG,CAAC,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,IAAI,WAAW,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAA;IAEzF,MAAM,GAAG,GAAG,MAAM,IAAI,WAAW,CAAC,KAAK,CAAC;SACrC,kBAAkB,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;SACpC,IAAI,CAAC,UAAU,CAAC,CAAA;IAEnB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;IAChB,OAAO,GAAG,CAAA;AACZ;;;;"}